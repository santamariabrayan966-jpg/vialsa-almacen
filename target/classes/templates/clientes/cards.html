<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>

<!-- clientes/cards.html -->
<div th:fragment="cardsContenido" class="row g-3">

    <div class="col-12 col-sm-6 col-md-4 col-lg-3"
         th:each="c : ${clientes}">

        <div class="card shadow-sm h-100">

            <div class="card-body text-center">

                <!-- FOTO: misma lÃ³gica que en la tabla y en el perfil -->
                <img th:src="${c.foto != null && c.foto != ''
                ? '/uploads/' + c.foto
                : '/images/default-user.png'}"
                     class="rounded-circle mb-3 shadow-sm"
                     style="width:80px; height:80px; object-fit:cover;">


                <h5 class="fw-bold" th:text="${c.nombres + ' ' + c.apellidos}"></h5>

                <!-- Etiquetas -->
                <div class="mb-2">
                    <span class="badge bg-warning text-dark" th:if="${c.vip}">
                        <i class="bi bi-star-fill"></i> VIP
                    </span>

                    <span class="badge bg-danger" th:if="${c.moroso}">
                        <i class="bi bi-exclamation-octagon-fill"></i> Moroso
                    </span>

                    <span class="badge bg-success" th:if="${c.activo}">Activo</span>
                    <span class="badge bg-secondary" th:if="${!c.activo}">Inactivo</span>
                </div>

                <!-- DNI -->
                <p class="text-muted mb-1"
                   th:text="'DNI: ' + ${c.nro_documento}"></p>

                <!-- ACCIONES -->
                <div class="d-flex justify-content-center gap-2">

                    <!-- Perfil -->
                    <button class="btn btn-info btn-sm"
                            data-bs-toggle="modal"
                            data-bs-target="#modalPerfil"
                            th:attr="data-id=${c.idClientes}">
                        <i class="bi bi-person-vcard"></i>
                    </button>

                    <!-- Editar -->
                    <a th:href="@{'/clientes/editar/' + ${c.idClientes}}"
                       class="btn btn-primary btn-sm">
                        <i class="bi bi-pencil"></i>
                    </a>

                    <!-- Eliminar -->
                    <button class="btn btn-danger btn-sm"
                            data-bs-toggle="modal"
                            data-bs-target="#modalEliminar"
                            th:attr="data-id=${c.idClientes}, data-nombre=${c.nombres}">
                        <i class="bi bi-trash"></i>
                    </button>
                </div>
            </div>

        </div>
    </div>

</div>

</body>
</html>
